{
    "icon_theme": "Catppuccin Mocha", // 设定图标主题
    "features": {
        "edit_prediction_provider": "supermaven" // 编辑预测提供程序
    },
    "outline_panel": {
        "dock": "left" // 面板
    }, // 大纲面板
    "show_edit_predictions": true, // 显示编辑预测
    "theme": "Catppuccin Espresso (Blur)", // 设定主题
    "agent": {
        "default_model": {
            "provider": "zed.dev",
            "model": "claude-3-5-sonnet-latest"
        }
    },
    "git": {
        "branch_picker": null, // 在分支选择器中显示哪些信息。
        "gutter_debounce": 0, // 设置去抖阈值（以毫秒为单位），在此之后更改将在git边缘中反映。
        "hunk_style": "staged_hollow", // 编辑器中如何可视化显示hunks。
        "git_gutter": "tracked_files", // 在跟踪的文件中显示 git 边栏。
        "inline_blame": {
            "enabled": true
        } // 是否在当前聚焦行内显示 git blame 数据。
    },
    "tab_bar": {
        "show": true, // 是否在编辑器中显示标签栏。
        "show_nav_history_buttons": true // 是否在标签栏中显示导航历史按钮。
    },
    "tabs": {
        "git_status": true, // 是否在标签项上显示Git文件状态。
        "file_icons": true // 是否在标签上显示文件图标。
    },
    "terminal": {
        "dock": "bottom",
        "default_height": 320, // 当终端停靠在底部时的默认高度。
        "button": true, // 是否在状态栏中显示终端按钮。
        "copy_on_select": false, // 在终端中选择文本是否会自动复制到系统剪贴板。
        "blinking": "on" // 始终闪烁光标，忽略终端模式。
    },
    "tab_size": 4, // 制表符空格数量
    "vim_mode": false, // vim 模式
    "base_keymap": "VSCode", // 基础键盘映射
    "ui_font_family": "Noto Sans", // ui字体
    "buffer_font_family": "Maple Mono NF", // 编辑区字体
    "ui_font_size": 15,
    "buffer_font_size": 14,
    "telemetry": {
        "diagnostics": false, // 发送调试信息，如崩溃报告。
        "metrics": false // 发送匿名的使用数据，比如你使用Zed的语言。
    }, // 控制Zed收集什么信息。
    "scrollbar": {
        "show": "auto"
    },
    "format_on_save": "on", // 是否在保存前执行缓冲区格式。
    "file_scan_exclusions": [".git", ".next", ".turbo", "node_modules", "dist"], // 完全忽略与‘ file_scan_exclections ’匹配的文件。覆盖“file_scan_inclusions”。
    "project_panel": {
        "scrollbar": {
            "show": "auto"
        }
    },
    "soft_wrap": "editor_width",
    "languages": {
        "Shell Script": {
            "show_edit_predictions": true // 控制编辑预测是立即显示（true）还是通过触发 'editor::ShowEditPrediction'（false）手动显示。
        },
        "TSX": {
            "show_edit_predictions": true
        },
        "Python": {
            "show_edit_predictions": true,
            "language_servers": ["ruff", "pyright"],
            "format_on_save": "on",
            "formatter": [
                {
                    "language_server": {
                        "name": "ruff"
                    }
                },
                {
                    "code_actions": {
                        "source.fixAll.ruff": true,
                        "source.organizeImports.ruff": true
                    }
                }
            ]
        },
        "Markdown": {
            "soft_wrap": "editor_width"
        },
        "Go": {
            "show_edit_predictions": true
        },
        "TypeScript": {
            "show_edit_predictions": true,
            "tab_size": 4
        },
        "Rust": {
            "show_edit_predictions": true
        },
        "C": {
            "show_edit_predictions": true,
            "formatter": {
                "external": {
                    "command": "bash",
                    "arguments": ["-c", "clang-format"]
                }
            },
            "format_on_save": "off"
        },
        "C++": {
            "show_edit_predictions": true,
            "formatter": {
                "external": {
                    "command": "clang-format",
                    "arguments": [
                        "-style={BasedOnStyle: Google, IndentWidth: 2}"
                    ]
                }
            },
            "tab_size": 4,
            "format_on_save": "off"
        }
    },
    "file_types": {
        "C++": ["c"], // 将 .c 文件视为 C++ 而不是 C
        "TOML": ["MyLockFile"], // 将名为“MyLockFile”的文件识别为 TOML
        "Dockerfile": ["Dockerfile*"], // 将 Dockerfile 语法应用于任何以“Dockerfile”开头的文件
        "Nix": ["conf"] // 将 .conf 文件视为 nix 文件 而不是 .ini 文件
    },
    "lsp": {
        "clangd": {
            "arguments": ["-background-index", "-compile-commands-dir=build"],
            "binary": {
                "path": "/usr/bin/clangd",
                "arguments": ["--function-arg-placeholders=1"]
            },
            "initialization_options": {
                "fallbackFlags": ["-std=c++23"]
            }
        },
        "rust-analyzer": {
            "initialization_options": {
                "completion": {
                    "snippets": {
                        "custom": {
                            "Arc::new": {
                                "postfix": "arc",
                                "body": ["Arc::new(${receiver})"],
                                "requires": "std::sync::Arc",
                                "scope": "expr"
                            },
                            "Some": {
                                "postfix": "some",
                                "body": ["Some(${receiver})"],
                                "scope": "expr"
                            },
                            "Ok": {
                                "postfix": "ok",
                                "body": ["Ok(${receiver})"],
                                "scope": "expr"
                            },
                            "Rc::new": {
                                "postfix": "rc",
                                "body": ["Rc::new(${receiver})"],
                                "requires": "std::rc::Rc",
                                "scope": "expr"
                            },
                            "Box::pin": {
                                "postfix": "boxpin",
                                "body": ["Box::pin(${receiver})"],
                                "requires": "std::boxed::Box",
                                "scope": "expr"
                            },
                            "vec!": {
                                "postfix": "vec",
                                "body": ["vec![${receiver}]"],
                                "description": "vec![]",
                                "scope": "expr"
                            }
                        }
                    }
                }
            }
        },
        "pyright": {
            "settings": {
                "analysis": {
                    "autoSearchPaths": true,
                    "useLibraryCodeForTypes": true,
                    "typeCheckingMode": "strict",
                    "reportUnusedVariable": "warning"
                }
            }
        },
        "ruff": {
            "initialization_options": {
                "settings": {
                    // Ruff server settings goes here
                    "lineLength": 120,
                    "lint": {
                        "extendSelect": [
                            // Recommended rules for Python linting
                            "I", // isort (sorts imports)
                            "ARG", // flake8-unused-arguments detects unused arguments in functions
                            "F841", // Warn about unused variables
                            "E", // Pycodestyle errors (style issues like indentation, whitespace, etc.)
                            "F", // Pyflakes rules (includes F841 for unused variables, and other common Python errors)
                            "W", // Pycodestyle warnings (like line breaks before binary operators)
                            "C90", // Pylint rules for cyclomatic complexity and code structure
                            "N", // PEP8 Naming conventions
                            "B", // Bugbear (detects potential code issues like mutable default arguments)
                            "A" // flake8-builtins (detects misuse of Python built-ins like `list`, `dict`, etc.)
                        ]
                    }
                }
            }
        },
        "texlab": {
            "settings": {
                "texlab": {
                    "build": {
                        // "command": "latexmk",
                        // "args": [
                        //     "-xelatex",
                        //     "-synctex=1",
                        //     "-interaction=nonstopmode",
                        //     "-file-line-error",
                        //     "-pdf",
                        //     "%f"
                        // ],
                        "onSave": true,
                        "forwardSearchAfter": true,
                        "recipe": "xelatex-bibtex-xelatex-xelatex-clean"
                    },
                    "recipes": [
                        {
                            "name": "xelatex-bibtex-xelatex-xelatex-clean",
                            "commands": [
                                {
                                    "command": "xelatex",
                                    "args": [
                                        "-synctex=1",
                                        "-interaction=nonstopmode",
                                        "%f"
                                    ]
                                },
                                {
                                    "command": "bibtex",
                                    "args": ["%f.aux"]
                                },
                                {
                                    "command": "xelatex",
                                    "args": [
                                        "-synctex=1",
                                        "-interaction=nonstopmode",
                                        "%f"
                                    ]
                                },
                                {
                                    "command": "xelatex",
                                    "args": [
                                        "-synctex=1",
                                        "-interaction=nonstopmode",
                                        "%f"
                                    ]
                                },
                                {
                                    "command": "latexmk",
                                    "args": ["-c", "%f"]
                                }
                            ]
                        }
                        // {
                        //     "command": "tectonic",
                        //     "args": [
                        //         "-X",
                        //         "compile",
                        //         "%f",
                        //         "--synctex",
                        //         "--keep-logs",
                        //         "--keep-intermediates"
                        //     ]
                        // }
                    ],
                    "forwardSearch": {
                        "executable": "zathura",
                        "args": [
                            "--synctex-forward",
                            "%l:1:%f",
                            "-x",
                            "zed %%{input}:%%{line}",
                            "%p"
                        ]
                    }
                }
            }
        }
    }
}
